## 接口文档

注：如无特别说明，请求方式均默认POST

### 用户操作接口
>实际操作表：tb_user
#### 1. 添加用户
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | userAdd | 添加用户 |
| 入参1 | msg_body | 用户信息(json格式: {"name": "xx", "gender": "x"}) |

#### 2. 通过json文件批量添加用户
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | addUsersFromFile | 通过json文件批量添加用户 |
| 入参1 | json_file | 多个用户信息，json文件格式参考 [批量添加示例文件](batch_add_example.json) |

#### 3. 删除用户
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | userDel | 删除多个用户 |
| 入参1 | user_ids | 要删除的用户id列表(json格式: [1,2,3]) |

#### 4. 修改用户
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | userUpdate | 修改用户信息 |
| 入参1 | msg_body | 用户信息(json格式, 同userAdd接口，需传入用户id) |

#### 5. 查询用户
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | userSelectAll | 分页查询用户信息 |
| 入参1 | page | 页数 |
| 入参2 | page_size | 每页个数 |
| 入参3 | conditions | 查询过滤条件（json格式，过滤字段名为数据库表字段名）<br/>该参数为空，默认查询所有用户 |

#### 6. 根据用户id查询用户信息
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | getUserById | 根据id查询用户信息 |
| 入参1 | user_id | 用户id |


### 链接操作接口
>实际操作表：tb_link
#### 1. 添加链接
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | linkAdd | 添加链接 |
| 入参1 | msg_body | 链接信息(json格式: {"name": "xx", "link": "http://xxx"}) |

#### 2. 通过json文件批量添加链接
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | addLinksFromFile | 通过json文件批量添加链接 |
| 入参1 | json_file | 多个链接信息，json文件格式参考 [批量添加示例文件](batch_add_example.json) |

#### 3. 删除链接
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | linkDel | 删除多个链接 |
| 入参1 | link_ids | 要删除的链接id列表(json格式: [1,2,3]) |

#### 4. 修改链接
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | linkUpdate | 修改链接信息 |
| 入参1 | msg_body | 链接信息(json格式, 同linkAdd接口，需传入链接id) |

#### 5. 查询链接
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | linkSelectAll | 分页查询链接信息 |
| 入参1 | page | 页数 |
| 入参2 | page_size | 每页个数 |
| 入参3 | conditions | 查询过滤条件（json格式，过滤字段名为数据库表字段名）<br/>该参数为空，默认查询所有链接 |

#### 6. 根据链接id查询链接信息
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | getLinkById | 根据id查询链接信息 |
| 入参1 | link_id | 链接id |

### 类别操作接口
>实际操作表：tb_category
#### 1. 增加类别
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | categoryAdd | 添加类别 |
| 入参1 | msg_body | 类别信息(json格式: {"name": "视频"}) |

#### 2. 删除类别
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | categoryDel | 删除1个或多个类别 |
| 入参1 | category_ids | 要删除的类别id列表(json格式: [1,2,3]) |

#### 3. 修改类别
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | categoryUpdate | 修改类别信息 |
| 入参1 | msg_body | 链接信息(json格式, {"id": 1, "name": "xxxx"}, 必须传入id和name) |

#### 4. 查询类别
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | categorySelectAll | 分页查询类别信息 |
| 入参1 | page | 页数 |
| 入参2 | page_size | 每页个数 |
| 入参3 | conditions | 查询过滤条件（json格式，过滤字段名为数据库表字段名）<br/>该参数为空，默认查询所有类别 |

### 角色权限操作接口
>实际操作表：tb_role
#### 1. 获取现有权限列表
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | getPermissions | 获取权限列表 |
| 无参数 | - | - |
| 返回示例 | - | [example](response_json_example.md#failed) |

#### 2. 增加角色
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | roleAdd | 添加角色 |
| 入参 | msg_body | 角色信息(json格式, {"name": "xxxx", "permissions": [1,2]}, 必须传入name和permissions) |
| 返回示例 | - | [example](response_json_example.md#success) |

#### 3. 删除角色
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | roleDel | 删除1个或多个角色 |
| 入参1 | role_ids | 要删除的角色id列表(json格式: [1,2,3]) |

#### 4. 修改角色
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | roleUpdate | 修改角色名或权限 |
| 入参1 | msg_body | 角色信息(json格式, {"id": 1, "name": "xxxx", "permissions": [1,2,3]}, 必须传入id) |

#### 5. 查询角色
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | roleSelectAll | 查询角色表 |
| 入参1 | page | 页数 |
| 入参2 | page_size | 每页个数 |
| 入参3 | conditions | 查询过滤条件（json格式，过滤字段名为数据库表字段名）<br/>该参数为空，默认查询所有角色 |

### 轮播图链接表操作接口
>实际操作表：tb_primary_link
#### 1. 添加到首要推荐表
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | primaryLinkAdd | 添加链接ID到首要推荐表中 |
| 入参1 | link_ids | 链接ID，数组格式[1,2,3] |

#### 2. 删除：从首要推荐表中移除链接
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | primaryLinkDel | 移除首要推荐表中的链接 |
| 入参1 | primary_ids | 推荐ID(注意:不是链接的ID)，数组格式[1,2,3] |

#### 3. 修改推荐链接
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | primaryLinkUpdate | 修改推荐信息 |
| 入参1 | msg_body | 推荐信息(json格式, {"id": 1, "link_id": "xxxx", "img_url": "图片路径"}, 必须传入id) |

#### 4. 查询：获取首要推荐表中的链接信息
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | primaryLinkSelectAll | 获取首要推荐表中链接 |
| 入参1 | page | 页数 |
| 入参2 | page_size | 每页个数 |
| 入参3 | conditions | 查询过滤条件（json格式，过滤字段名为数据库表字段名）<br/>该参数为空，默认查询所有推荐链接 |

### 推荐表操作接口
>实际操作表：tb_worthy_link
#### 1. 添加到推荐表
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | worthyLinkAdd | 添加链接ID到推荐表中 |
| 入参1 | link_ids | 链接ID，数组格式[1,2,3] |

#### 2. 删除：从推荐表中移除链接
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | worthyLinkDel | 移除推荐表中链接 |
| 入参1 | worthy_ids | 推荐ID(注意:不是链接的ID)，数组格式[1,2,3] |

#### 3. 查询：获取推荐表中的链接信息
| 定义 | 值 | 备注 |
| --- | --- | --- |
| 接口 | worthyLinkSelectAll | 移除推荐表中链接 |
| 入参1 | page | 页数 |
| 入参2 | page_size | 每页个数 |
| 入参3 | conditions | 查询过滤条件（json格式，过滤字段名为数据库表字段名）<br/>该参数为空，默认查询所有推荐链接 |

